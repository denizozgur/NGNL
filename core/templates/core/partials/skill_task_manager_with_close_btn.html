<!-- FILE: core/templates/core/partials/skill_task_manager_with_close_btn.html (DEFINITIVE FIX) -->

<!-- 
This is the MAIN response. 
It loads the task manager panel itself into the main target.
-->
{% include 'core/partials/skill_task_manager.html' %}


<!-- 
This is the "Out of Band" (OOB) response. 
It replaces the button's container with the "Close" button.
-->
<div id="skill-manager-button-{{ skill.id }}" hx-swap-oob="true">
    <button 
        hx-get="{% url 'get_skill_task_manager' skill.id %}?clear=true"
        hx-target="#task-manager-for-{{ skill.id }}"
        hx-swap="innerHTML"
        class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-1 px-3 rounded-md transition-colors"
    >
        Close
    </button>
</div>